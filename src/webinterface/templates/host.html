{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Host" %} {{ host.name }}{% endblock %}

{% block content %}
    {% trans "Modify" as modify_trans %}
    {% trans "Delete" as delete_trans %}

    {% if confirm_delete %}<div class="alert alert-block">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <h2>{% trans "Confirm deletion" %}</h2>
        {% blocktrans with hostname=host.name %}
            This will delete permanently delete host {{ hostname }} and all
            related information. Do you really want to delete it ?
        {% endblocktrans %}

        <form method="DELETE">
            <button class="btn btn-danger" type="submit">{{ delete_trans }}</button>
        </form>
    </div>{% endif %}

    <h1>{% trans "Host" %} {{ host.name }}</h1>

    <ul>
        {% if host.alias_set.all %}
            <li>{% trans "Aliases" %}: {{ host.alias_set.all|join:", " }}</li>
        {% endif %}
    </ul>

    {% if addrs %}
        <h2>{% blocktrans with hname=host.name %}
            Addresses allocated to {{ hname }}{% endblocktrans %}</h2>
        <ul>
            {% for addr in addrs %}
                <li>
                    <a href="/address/{{ addr.addr }}">{{ addr.addr }}</a>
                    {% if addr.pool %}{% trans " (pool: " %}
                        <a href="/pool/{{ addr.pool.name }}">{{ addr.pool.name }}</a>)
                    {% endif %}
                    {% if addr.macaddr %}{% trans ", mac: " %}
                        {{ addr.macaddr }}{% endif %}
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <h2>{{ modify_trans }}</h2>
    <form method="PUT">
        {% trans "Name" %}: <input type="text" name="newname"><br>
        {% trans "Mac address" %}: <input type="text" name="macaddr"><br>
        <button type="submit" class="btn">{{ modify_trans }}</button>
    </form>

    <h2>{{ delete_trans }}</h2>
    <form method="DELETE">
        <input type="hidden" name="confirm" value="1">
        <button class="btn btn-danger" type="submit">{{ delete_trans }}</button>
    </form>
{% endblock %}
